###############################################################################
# Generated by Chef for anamanager
###############################################################################

com2sec local          127.0.0.1/32    private
com2sec notConfigUser  default         redBorder 

group MyRWGroup v1  local
group MyRWGroup v2c local
group MyRWGroup usm local

group MyROGroup v1  notConfigUser
group MyROGroup v2c notConfigUser
group MyROGroup usm notConfigUser

view    all           included   .1                    80
view    systemview    included   .1.3.6.1.2.1.1
view    systemview    included   .1.3.6.1.2.1.25.1.1

access  MyROGroup      ""      any       noauth    exact    all    none   none
access  MyRWGroup      ""      any       noauth    exact    all    all   all

syslocation redBorder
syscontact  anamanager <anamanager@redborder.cluster>

includeAllDisks 10%

master agentx
agentSecName redBorder
createUser redBorder MD5 redBorderP@ssw0rd
rouser redBorder auth
iquerySecName redBorder

trapcommunity redBorder

## Added
rocommunity  redborder

#Configured trap servers with the GUI

monitor DiskAlmostFull dskPercent > 90
monitor machineTooBusy hrProcessorLoad > 90

proc chef-client
proc sshd
proc master
monitor chef-client-stopped -r 10 -I .1.3.6.1.4.1.2021.2.1.5.1 == 0
monitor chef-client-started -r 10 -I .1.3.6.1.4.1.2021.2.1.5.1 > 0
monitor sshd-stopped -r 10 -I .1.3.6.1.4.1.2021.2.1.5.2 == 0
monitor sshd-started -r 10 -I .1.3.6.1.4.1.2021.2.1.5.2 > 0
monitor postfix-stopped -r 10 -I .1.3.6.1.4.1.2021.2.1.5.3 == 0
monitor postfix-started -r 10 -I .1.3.6.1.4.1.2021.2.1.5.3 > 0

disk /

pass_persist .1.3.6.1.4.1.39483 /opt/rb/bin/rb_snmp_pass.rb

notificationEvent  linkUpTrap    linkUp   ifIndex ifAdminStatus ifOperStatus
notificationEvent  linkDownTrap  linkDown ifIndex ifAdminStatus ifOperStatus
monitor  -r 1 -e linkUpTrap   "Generate linkUp" ifOperStatus != 2
monitor  -r 1 -e linkDownTrap "Generate linkDown" ifOperStatus == 2

